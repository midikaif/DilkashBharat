<nav class="glass">
  <div class="navbar-content">
    <!-- LEFT GROUP: Logo (Dilkash) and Places (Active Pill) -->
    <div class="nav-left">
      <!-- Logo -->
      <button class="menu-toggle" aria-expanded="false" aria-controls="collapsible-nav">
        <i data-lucide="menu" class="menu-icon"></i>
      </button>

      <a href="/" class="logo"> Dilkash </a>
      
      
      <!-- Places Link (Active Pill) -->
      <a href="/places" class="nav-link active"> Places </a>
    </div>

    <!-- RIGHT GROUP: Register, Login, Search Bar -->
    <div class="nav-right" id="collapsible-nav">
      <!-- Standard Link - Register -->
      <a href="/auth/register" class="nav-link"> Register </a>

      <!-- Standard Link - Login -->
      <a href="/auth/login" class="nav-link"> Login </a>

      <form action="/places" >
        <!-- Search Bar -->
        <div class="search-bar-container">
          <!-- Search Icon -->
          <div class="search-icon">
            <i data-lucide="search"></i>
          </div>
          <!-- Input Field -->
          <input type="search" placeholder="Search..." class="search-input" name="q"/>
        </div>
      </form>
    </div>
  </div>
</nav>


<!-- <script>
  lucide.createIcons();

  document.addEventListener("DOMContentLoaded", () => {
    // Select all navigable links
    const navLinks = document.querySelectorAll(".nav-link");

    // Function to handle link clicks
    navLinks.forEach((link) => {
      link.addEventListener("click", (event) => {
        // Stop default action and prevent page jump for demonstration links

        // 1. Remove 'active' class from all links
        navLinks.forEach((l) => l.classList.remove("active"));

        // 2. Add 'active' class to the clicked link
        event.currentTarget.classList.add("active");
      });
    });

    // Set 'Places' as active by default on load
    const defaultActiveLink = document.getElementById("places-link");
    if (defaultActiveLink) {
      defaultActiveLink.classList.add("active");
    }
  });
</script> -->


<script>
    lucide.createIcons();

    document.addEventListener("DOMContentLoaded", () => {
        // === 1. NAVIGATION TOGGLE LOGIC ===
        const menuToggle = document.querySelector('.menu-toggle');
        const navContainer = document.getElementById('collapsible-nav');

        menuToggle.addEventListener('click', () => {
            // Toggle the 'open' class for the CSS collapse effect
            navContainer.classList.toggle('open');
            
            // Toggle the aria-expanded attribute for accessibility
            const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true' || false;
            menuToggle.setAttribute('aria-expanded', !isExpanded);
        });


        // === 2. ACTIVE LINK LOGIC (Original) ===
        const navLinks = document.querySelectorAll(".nav-link");

        navLinks.forEach((link) => {
            link.addEventListener("click", (event) => {
                // Remove 'active' class from all links
                navLinks.forEach((l) => l.classList.remove("active"));
                // Add 'active' class to the clicked link
                event.currentTarget.classList.add("active");
                
                // OPTIONAL: Close the menu after a link is clicked on mobile
                if (window.innerWidth < 768) {
                    navContainer.classList.remove('open');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        });

        // Set 'Places' as active by default on load (You had 'places-link', but no ID in HTML)
        // Re-adding the ID to the 'Places' link is necessary if you want this block to work.
        // For simplicity, I'll rely on the existing 'active' class in your HTML
    });
</script>